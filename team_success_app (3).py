import streamlit as st
import pandas as pd
from openai import OpenAI

st.title("üß† –ü—Ä–æ–≥–Ω–æ–∑ —É—Å–ø–µ—Ö–∞ –∫–æ–º–∞–Ω–¥—ã")

api_key = st.text_input("üîë –í–≤–µ–¥–∏—Ç–µ ProxyAPI –∫–ª—é—á", type="password", key="api_key_input")
if api_key:
    st.session_state["api_key"] = api_key
api_key = st.session_state.get("api_key", "")

team = []

with st.expander("–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"):
    description = st.text_area("–ß—Ç–æ –≤—ã —Ä–µ–∞–ª–∏–∑—É–µ—Ç–µ?", help="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ —Å—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Ü–µ–ª—å, –∞—É–¥–∏—Ç–æ—Ä–∏—é, –æ—Å–Ω–æ–≤–Ω—É—é –∑–∞–¥–∞—á—É", max_chars=500)
    expectation = st.selectbox("–ö–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–∂–∏–¥–∞–µ—Ç—Å—è?", ["–§–∏—á–∞", "MVP", "–ö–æ–Ω—Ü–µ–ø—Ç", "–ì–æ—Ç–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç"], help="–£—Ä–æ–≤–µ–Ω—å –ø–æ–ª–Ω–æ—Ç—ã —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: –æ—Ç –ø—Ä–æ—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞")
    deadline = st.selectbox("–°—Ä–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏", ["1 –º–µ—Å—è—Ü", "3 –º–µ—Å—è—Ü–∞", "6 –º–µ—Å—è—Ü–µ–≤", "1 –≥–æ–¥"], help="–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞")

with st.expander("–£—Å–ª–æ–≤–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞"):
    project_stage = st.selectbox("–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø –ø—Ä–æ–µ–∫—Ç–∞", ["–ò–Ω–∏—Ü–∏–∞—Ü–∏—è", "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è", "–ü—Ä–æ–≤–µ—Ä–∫–∞"], help="–ù–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ–µ–∫—Ç")  
    methodology = st.selectbox("–ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?", ["Scrum", "Kanban", "Waterfall", "–ù–µ—Ç —è–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞"], help="–ö–∞–∫–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
    has_pm = st.selectbox("–ï—Å—Ç—å –ª–∏ Project Manager –∏–ª–∏ Scrum Master?", ["–î–∞", "–ù–µ—Ç"], help="–ù–∞–∑–Ω–∞—á–µ–Ω –ª–∏ –∫—Ç–æ-—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º")
    project_assets = st.multiselect("–ß—Ç–æ —É–∂–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ?", [
        "–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ñ–∏—á (MVP backlog)",
        "–ü–ª–∞–Ω —Ä–µ–ª–∏–∑–∞ / roadmap",
        "–û–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞",
        "–†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Å—Ç–µ–Ω–¥–∞–ø—ã / —Å–∏–Ω–∫–∏",
        "–ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (DoD/DoR)"
    ], help="–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ")
    workload = st.selectbox("–ó–∞–Ω—è—Ç–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã", ["–ü–æ–ª–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å", "–ß–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"], help="–ù–∞—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º")
    team_experience = st.selectbox("–†–∞–±–æ—Ç–∞–ª–∏ –ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤–º–µ—Å—Ç–µ —Ä–∞–Ω–µ–µ?", ["–î–∞", "–ù–µ—Ç", "–ß–∞—Å—Ç–∏—á–Ω–æ"], help="–ë—ã–ª –ª–∏ —É –∫–æ–º–∞–Ω–¥—ã –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –æ–ø—ã—Ç")
    technology_familiarity = st.selectbox("–û–ø—ã—Ç —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏", ["–•–æ—Ä–æ—à–æ –∑–Ω–∞–∫–æ–º–∞", "–ß–∞—Å—Ç–∏—á–Ω–æ", "–ù–µ—Ç"], help="–ù–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –∫–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–∫–æ–º–∞ —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º —Å—Ç–µ–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞")
    has_external_dependencies = st.selectbox("–ï—Å—Ç—å –ª–∏ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?", ["–î–∞", "–ù–µ—Ç"], help="–ü–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –ª–∏ –≤–Ω–µ—à–Ω–∏–µ API, –ø–æ–¥—Ä—è–¥—á–∏–∫–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã")
    mvp_clarity = st.selectbox("–§–∏–∫—Å–∞—Ü–∏—è MVP", ["–î–∞", "–ß–∞—Å—Ç–∏—á–Ω–æ", "–ù–µ—Ç"], help="–ù–∞—Å–∫–æ–ª—å–∫–æ —á—ë—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ, —á—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç")

with st.expander("üå™Ô∏è –í–Ω–µ—à–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç"):
    st.markdown("**üîª –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**")
    negative_events = st.multiselect("–í—ã–±–µ—Ä–∏—Ç–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:", [
        "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –∫–æ–º–∞–Ω–¥–µ",
        "–£—Ö–æ–¥–∏—Ç –∫–ª—é—á–µ–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫",
        "–ù–µ–ø–æ–Ω—è—Ç–Ω–∞—è —Ü–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞",
        "–ö–æ–Ω—Ñ–ª–∏–∫—Ç –ª–∏–¥–µ—Ä—Å—Ç–≤–∞",
        "–ü–µ—Ä–µ–≥—Ä—É–∑ –∫–æ–º–∞–Ω–¥—ã",
        "–ü–æ—Ç–µ—Ä—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏",
        "–ù–∏–∑–∫–∞—è –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏"
    ])

    st.markdown("**üî∫ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**")
    positive_events = st.multiselect("–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:", [
        "–°–∏–ª—å–Ω–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è",
        "–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∏–¥–±–µ–∫ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
        "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞",
        "–ê–∫—Ç–∏–≤–Ω–∞—è –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã",
        "–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ –æ—Ç –∫–æ–º–∞–Ω–¥—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—è–º",
        "–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Ä–∞–±–æ—Ç–æ–∫ / –±–∏–±–ª–∏–æ—Ç–µ–∫"
    ])

with st.expander("üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥—ã"):
    num_members = st.number_input("–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –≤ –∫–æ–º–∞–Ω–¥–µ?", min_value=1, max_value=20, value=5)

    roles = [
        "Product Owner", "Project Manager", "Tech Lead",
        "Business Analyst", "System Analyst", "Developer", 
        "QA", "UX/UI Designer", "DevOps / Infrastructure"
    ]
    skill_levels = ["junior", "middle", "senior", "–Ω–µ–∞–¥–µ–∫–≤–∞—Ç–µ–Ω"]
    motivations = ["–≤—ã—Å–æ–∫–∞—è", "—Å—Ä–µ–¥–Ω—è—è", "–Ω–∏–∑–∫–∞—è"]

    for i in range(int(num_members)):
        st.markdown(f"**–£—á–∞—Å—Ç–Ω–∏–∫ {i+1}**")
        cols = st.columns(3)
        with cols[0]:
            role = st.selectbox("–†–æ–ª—å", roles, key=f"role_{i}")
        with cols[1]:
            skill = st.selectbox("–ù–∞–≤—ã–∫", skill_levels, key=f"skill_{i}")
        with cols[2]:
            motivation = st.selectbox("–ú–æ—Ç–∏–≤–∞—Ü–∏—è", motivations, key=f"motivation_{i}")
        team.append({"role": role, "skill": skill, "motivation": motivation})

if st.button("–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ò–ò"):
    if not api_key:
        st.warning("–í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞.")
    else:
        prompt = f"""
–¢—ã –≤—ã—Å—Ç—É–ø–∞–µ—à—å –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ IT, –¥–µ–π—Å—Ç–≤—É—é—â–∏–π –ø–æ —á–µ–∫–ª–∏—Å—Ç—É –∑—Ä–µ–ª–æ—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç. –ù–µ –ø–æ–≤—Ç–æ—Ä—è–π –∏—Ö –¥–æ—Å–ª–æ–≤–Ω–æ, –∞ –¥–µ–ª–∞–π –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—ã, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–ª –±—ã –æ–ø—ã—Ç–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç, —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä. –°—Ç–∞—Ä–∞–π—Å—è –≤—ã—è–≤–ª—è—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–æ, —á—Ç–æ —É–∫–∞–∑–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

- –î–∞–π –∫—Ä–∞—Ç–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **XX%**, –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º, –∏ –ø–æ—è—Å–Ω–∏, —á—Ç–æ –Ω–∞ –Ω–µ—ë –≤–ª–∏—è–µ—Ç. –ù–µ –¥—É–±–ª–∏—Ä—É–π –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å—Ñ–æ—Ä–º–∏—Ä—É–π –ø–æ—è—Å–ª–µ–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ.
- –ü–æ—Å—Ç—Ä–æ–π —Ç–∞–±–ª–∏—Ü—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –≥–¥–µ –≤ –æ–¥–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ —É–∫–∞–∑–∞–Ω–∞ –∫–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ. –ü—Ä–æ–±–ª–µ–º—ã —Ä–∞–Ω–∂–∏—Ä—É–π –ø–æ —Å—Ç–µ–ø–µ–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏: —Å–Ω–∞—á–∞–ª–∞ —Å–∞–º—ã–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ, –ø–æ—Ç–æ–º –º–µ–Ω–µ–µ –∑–Ω–∞—á–∏–º—ã–µ.
- –£—á–∏—Ç—ã–≤–∞–π –≤–ª–∏—è–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.
- –û—Ç–¥–µ–ª—å–Ω–æ –æ—Ü–µ–Ω–∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–∞–≤–∞ –∫–æ–º–∞–Ω–¥—ã: –∫–∞–∫–∏—Ö —Ä–æ–ª–µ–π –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
- –£–∫–∞–∂–∏, –µ—Å—Ç—å –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–æ–ª–µ–π –∏–ª–∏ –ø—Ä–æ–±–µ–ª—ã –≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏.
- –û—Ç–º–µ—Ç—å, –∫–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ —Å–µ–π—á–∞—Å –Ω–∞–∏–±–æ–ª–µ–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, —Å—Ä–æ–∫–∏, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏).
- –û—Ü–µ–Ω–∏ —É—Ä–æ–≤–µ–Ω—å –∑—Ä–µ–ª–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã: –Ω–∏–∑–∫–∏–π / —Å—Ä–µ–¥–Ω–∏–π / –≤—ã—Å–æ–∫–∏–π ‚Äî —Å –∫—Ä–∞—Ç–∫–∏–º –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º.
- –î–æ–±–∞–≤—å –±–ª–æ–∫ ‚Äú–ß—Ç–æ —Ö–æ—Ä–æ—à–æ‚Äù.
- –î–∞–π 3 –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: –¥–ª—è Project Manager, –∫–æ–º–∞–Ω–¥—ã –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞.
- –£–∫–∞–∂–∏, –º–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ —Ç–µ–∫—É—â–µ–º –≤–∏–¥–µ –∏ –ø—Ä–∏ –∫–∞–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö.
- –í —Ñ–∏–Ω–∞–ª–µ ‚Äî –∫—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥ –≤ 1‚Äì2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö.

–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: {description}
–°—Ä–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: {deadline}
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {expectation}
–í–Ω–µ—à–Ω–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: {', '.join(negative_events)}
–í–Ω–µ—à–Ω–∏–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: {', '.join(positive_events)}
–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–∞–Ω–¥—ã: {workload}
–û–ø—ã—Ç —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã: {team_experience}
–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏: {technology_familiarity}
–í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: {has_external_dependencies}
–§–∏–∫—Å–∞—Ü–∏—è —Å–∫–æ–ø–∞: {mvp_clarity}
–≠—Ç–∞–ø –ø—Ä–æ–µ–∫—Ç–∞: {project_stage}
–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è: {methodology}
–ï—Å—Ç—å PM: {has_pm}
–ü—Ä–æ–µ–∫—Ç–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: {', '.join(project_assets)}



–û—Ç–≤–µ—Ç —Å—Ç—Ä–æ–≥–æ –æ—Ñ–æ—Ä–º–∏ –ø–æ —à–∞–±–ª–æ–Ω—É –Ω–∏–∂–µ. –ù–µ –∏–∑–º–µ–Ω—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –ø–æ—Ä—è–¥–æ–∫ –±–ª–æ–∫–æ–≤ –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:

## **–ü—Ä–æ–≥–Ω–æ–∑ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞: XX%**
[1‚Äì2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏]

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
| –ö–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞ | **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ** |
|------------------|---------------------------|
| ...              | ...                       |

## **–ê–Ω–∞–ª–∏–∑ –∫–æ–º–∞–Ω–¥—ã:**
- ...
- ...

**–ù–∞–∏–±–æ–ª–µ–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**
- ...

**–£—Ä–æ–≤–µ–Ω—å –∑—Ä–µ–ª–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã:** –Ω–∏–∑–∫–∏–π / —Å—Ä–µ–¥–Ω–∏–π / –≤—ã—Å–æ–∫–∏–π

---

## **–û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
-  ...
-  ...
-  ...

---

## **–í—ã–≤–æ–¥**
[–ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥]

"""
        for i, member in enumerate(team, 1):
            prompt += f"\n{i}. –†–æ–ª—å: {member['role']}, –ù–∞–≤—ã–∫: {member['skill']}, –ú–æ—Ç–∏–≤–∞—Ü–∏—è: {member['motivation']}"

        with st.spinner("–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ ProxyAPI..."):
            try:
                client = OpenAI(
                    api_key=api_key,
                    base_url="https://api.proxyapi.ru/openai/v1"
                )

                response = client.chat.completions.create(
                    model="gpt-4.1-mini",
                    messages=[
                        {"role": "system", "content": "–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–∞–Ω–¥ –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞."},
                        {"role": "user", "content": prompt}
                    ]
                )
                result = response.choices[0].message.content

                st.markdown("### üß† –û—Ç–≤–µ—Ç –ò–ò:")

                st.markdown(result)    

            except Exception as e:
                st.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ ProxyAPI: {e}")
